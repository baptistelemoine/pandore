{"ast":null,"code":"var _jsxFileName = \"/Users/baptiste/Projects/marvel/src/modules/list/index.js\";\nimport React, { Fragment } from \"react\";\nimport ListItem from \"../common/ListItem\";\nimport { Button } from \"@chakra-ui/core\";\nimport useRequest from \"../../hooks/useRequest\";\nimport { useSWRPages } from \"swr\";\n\nconst List = () => {\n  const {\n    pages,\n    isLoadingMore,\n    isReachingEnd,\n    loadMore\n  } = useSWRPages(\"list\", ({\n    offset,\n    withSWR\n  }) => {\n    const url = `https://gateway.marvel.com:443/v1/public/characters?apikey=2f1fed568f42c3ac72c3e50846da7949&offset=${offset || 0}`; // eslint-disable-next-line\n\n    const {\n      data: {\n        data\n      }\n    } = withSWR(useRequest({\n      url\n    }));\n    if (!data) return null;\n    const {\n      results\n    } = data;\n    return results.map(item => React.createElement(ListItem, Object.assign({\n      key: item.id\n    }, item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    })));\n  }, ({\n    data: {\n      data\n    }\n  }) => data.results.offset, []);\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, pages, React.createElement(Button, {\n    mt: 3,\n    w: \"100%\",\n    onClick: loadMore,\n    disabled: isReachingEnd,\n    isLoading: isLoadingMore,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Load more\"));\n};\n\nexport default List;","map":{"version":3,"sources":["/Users/baptiste/Projects/marvel/src/modules/list/index.js"],"names":["React","Fragment","ListItem","Button","useRequest","useSWRPages","List","pages","isLoadingMore","isReachingEnd","loadMore","offset","withSWR","url","data","results","map","item","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,SAASC,WAAT,QAA4B,KAA5B;;AAEA,MAAMC,IAAI,GAAG,MAAM;AACjB,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,aAAT;AAAwBC,IAAAA,aAAxB;AAAuCC,IAAAA;AAAvC,MAAoDL,WAAW,CACnE,MADmE,EAEnE,CAAC;AAAEM,IAAAA,MAAF;AAAUC,IAAAA;AAAV,GAAD,KAAyB;AACvB,UAAMC,GAAG,GAAI,sGAAqGF,MAAM,IACtH,CAAE,EADJ,CADuB,CAGvB;;AACA,UAAM;AACJG,MAAAA,IAAI,EAAE;AAAEA,QAAAA;AAAF;AADF,QAEFF,OAAO,CAACR,UAAU,CAAC;AAAES,MAAAA;AAAF,KAAD,CAAX,CAFX;AAGA,QAAI,CAACC,IAAL,EAAW,OAAO,IAAP;AAEX,UAAM;AAAEC,MAAAA;AAAF,QAAcD,IAApB;AAEA,WAAOC,OAAO,CAACC,GAAR,CAAYC,IAAI,IAAI,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,IAAI,CAACC;AAApB,OAA4BD,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAApB,CAAP;AACD,GAdkE,EAenE,CAAC;AAAEH,IAAAA,IAAI,EAAE;AAAEA,MAAAA;AAAF;AAAR,GAAD,KAAwBA,IAAI,CAACC,OAAL,CAAaJ,MAf8B,EAgBnE,EAhBmE,CAArE;AAmBA,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGJ,KADH,EAEE,oBAAC,MAAD;AACE,IAAA,EAAE,EAAE,CADN;AAEE,IAAA,CAAC,EAAC,MAFJ;AAGE,IAAA,OAAO,EAAEG,QAHX;AAIE,IAAA,QAAQ,EAAED,aAJZ;AAKE,IAAA,SAAS,EAAED,aALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,CADF;AAcD,CAlCD;;AAoCA,eAAeF,IAAf","sourcesContent":["import React, { Fragment } from \"react\";\nimport ListItem from \"../common/ListItem\";\nimport { Button } from \"@chakra-ui/core\";\nimport useRequest from \"../../hooks/useRequest\";\nimport { useSWRPages } from \"swr\";\n\nconst List = () => {\n  const { pages, isLoadingMore, isReachingEnd, loadMore } = useSWRPages(\n    \"list\",\n    ({ offset, withSWR }) => {\n      const url = `https://gateway.marvel.com:443/v1/public/characters?apikey=2f1fed568f42c3ac72c3e50846da7949&offset=${offset ||\n        0}`;\n      // eslint-disable-next-line\n      const {\n        data: { data }\n      } = withSWR(useRequest({ url }));\n      if (!data) return null;\n\n      const { results } = data;\n\n      return results.map(item => <ListItem key={item.id} {...item} />);\n    },\n    ({ data: { data } }) => data.results.offset,\n    []\n  );\n\n  return (\n    <Fragment>\n      {pages}\n      <Button\n        mt={3}\n        w=\"100%\"\n        onClick={loadMore}\n        disabled={isReachingEnd}\n        isLoading={isLoadingMore}\n      >\n        Load more\n      </Button>\n    </Fragment>\n  );\n};\n\nexport default List;\n"]},"metadata":{},"sourceType":"module"}